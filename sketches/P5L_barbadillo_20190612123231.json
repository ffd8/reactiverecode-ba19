{
  "sketches": [
    {
      "sketchName": "barbadillo",
      "sketchCode": "let credits = { \n    \"student_names\": \"Max Keller, Oliver Jauslin, Audrey Rappold\", \n    \"recode_artist\": \"Manuel Barbadillo\", \n    \"recode_title\": \"Barbadillo dairian\", \n    \"recode_year\": 1973 \n} \n\nfunction setup() {\n\tcreateCanvas(windowWidth, windowHeight);\n\trectMode(CENTER);\n\tangleMode(DEGREES);\n\tsetupAudio();\n}\n\nfunction draw() {\n\t/* audio vars: amp, ampEase, fft, waveform */\n\tupdateAudio();\n\tbackground(0);\n\tnoStroke();\n\n\n\tif(mouseIsPressed) {\n\t\tfor(let i = 0; i < 8; i++) {\n\t\t\tfor(let j = 0; j < 4; j++) {\n\t\t\t\tpush();\n\t\t\t\tif(i % 2 == 0) {\n\t\t\t\t\tfor(let k = 0; k < 4; k++) {\n\t\t\t\t\t\tthing(width * .41 + (i * width / 7.7) - width * .2594, height / 4 - (j * height / 2) + height * k + ampEase * 1.5, 255, 0);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttranslate(width, height);\n\t\t\t\t\trotate(180);\n\t\t\t\t\tfor(let l = 0; l < 4; l++) {\n\t\t\t\t\t\tthing(width * .4 + (i * width / 7.7) - width * .39, (j * height / 2) + height * l + ampEase * 1.5, 0, 255);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpop();\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor(let i = 0; i < 4; i++) {\n\t\t\tfor(let j = 0; j < 4; j++) {\n\t\t\t\tpush();\n\t\t\t\tif(i % 2 == 0) {\n\t\t\t\t\tfor(let k = 0; k < 4; k++) {\n\t\t\t\t\t\tthing(width * .41 + (i * width / 7.7), height / 4 - (j * height / 2) + height * k + ampEase * 1.5, 255, 0);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttranslate(width, height);\n\t\t\t\t\trotate(180);\n\t\t\t\t\tfor(let l = 0; l < 4; l++) {\n\t\t\t\t\t\tthing(width * .4 + (i * width / 7.7) - width * .13, (j * height / 2) + height * l + ampEase * 1.5, 0, 255);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpop();\n\t\t\t}\n\t\t}\n\t}\n\n\n\t//thing(width*.25, height*.25, 255, 0);\n\t//thing(width*.38, height*.25, 0, 255);\n\t//thing(200, 200, 0, 255);\n\n}\n\nfunction thing(x, y, c1, c2) {\n\n\tfill(c1);\n\trect(x - (width * .2) / 2, y, width * .13, height * .5);\n\n\tfor(let i = 0; i < 4; i++) {\n\t\tfill(c1);\n\n\t\tif(i % 2 == 0) {\n\t\t\tfill(c2);\n\t\t}\n\n\t\trect(x - (width * .2 - i * 50) / 2, y, width * .13 - i * 50 + amp * .3, height * .5 - 22 * i * 4 + ampEase * .1, (i + 1) * 25);\n\t}\n}\n\n/* AUDIO INIT */\nlet mic, fftRaw, fft, waveform, amp = 0.0,\n\tampEase = 0.0,\n\tnumBins = 512,\n\tbands = 12;\n\nfunction setupAudio() {\n\tmic = new p5.AudioIn();\n\tmic.start();\n\tfftRaw = new p5.FFT(0.75, numBins);\n\tfftRaw.setInput(mic);\n}\n\nfunction updateAudio() {\n\tfftRaw.analyze();\n\tamp = mic.getLevel() * 1000; // average amplitude\n\tampEase = ease(amp, ampEase, 0.2); // smooth 'amp'\n\twaveform = fftRaw.waveform(); // array (-1, 1)\n\tfft = fftRaw.logAverages(fftRaw.getOctaveBands(bands)); // array (0, 255)\n}"
    }
  ]
}
