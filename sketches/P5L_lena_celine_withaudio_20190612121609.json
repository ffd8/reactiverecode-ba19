{
  "sketches": [
    {
      "sketchName": "lena_celine_withaudio",
      "sketchCode": "let credits = {\n\t\"student_names\": \"Lena Krug, CÃ©line Violetti\", \n    \"recode_artist\": \"Herbet W. Franke\", \n    \"recode_title\": \"8 Rasterbilder\", \n    \"recode_year\": \"1973\" \n}\nfunction setup() {\n\tcreateCanvas(windowWidth, windowHeight);\n\n\tsetupAudio();\n\tsetupAudio();\n}\n\nfunction draw() {\n\t/* audio vars: amp, ampEase, fft, waveform */\n\tupdateAudio();\n\t\n\trandomSeed(random);\n\tbackground(255)\n\tnoStroke();\n\tfor(let i = 0; i < 4; i++) {\n\t\tlet x = map(i, 0, 4, 0, width);\n\t\tfor(let j = 0; j < 2; j++) {\n\t\t\tlet y = map(j, 0, 2, 0, height);\n\t\t\tgrid(x, y);\n\t\t}\n\t}\n\tprintln(amp);\n\n\n\n}\n\nfunction grid(xpos, ypos) {\n\tlet lc = 5;\n\tlet h = height / 3;\n\tpush()\n\ttranslate(xpos, ypos)\n\tfor(let i = 0; i < lc; i++) {\n\t\tfor(let j = 0; j < lc; j++) {\n\t\t\t// random logic...\n\t\t\t//rect here\n\t\t\t//fill(random(255*20));\n\n\t\t\tlet s = h / lc;\n\t\t\tlet x = i * s;\n\t\t\tlet y = j * s;\n\n\t\t\t//randomColor = color(round(random(1))*255);\n\t\t\t//fill(randomColor);\n\t\t\tif(random(1) > .5) {\n\t\t\t\tif(ampEase > 200){\n\t\t\t\t\tfill(0);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfill(255);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(ampEase > 200) {\n\t\t\t\t\tfill(255);\n\t\t\t\t} \n\t\t\t\telse {\n\t\t\t\t\tfill(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(amp > 3){\n\t\t\t\tsquare(x, y, s*(ampEase*.005+0.3));\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t\tsquare(x, y, s);\n\t\t\t}\n\t\t}\n\t}\n\tpop()\n}\n\nfunction mousePressed(){\n\trSeed = random (9999);\n\n\n\n}\n\n/* AUDIO INIT */\nlet mic, fftRaw, fft, waveform, amp = 0.0,\n\tampEase = 0.0,\n\tnumBins = 512,\n\tbands = 12;\n\nfunction setupAudio() {\n\tmic = new p5.AudioIn();\n\tmic.start();\n\tfftRaw = new p5.FFT(0.75, numBins);\n\tfftRaw.setInput(mic);\n}\n\nfunction updateAudio() {\n\tfftRaw.analyze();\n\tamp = mic.getLevel() * 1000; // average amplitude\n\tampEase = ease(amp, ampEase, 0.075); // smooth 'amp'\n\twaveform = fftRaw.waveform(); // array (-1, 1)\n\tfft = fftRaw.logAverages(fftRaw.getOctaveBands(bands)); // array (0, 255)\n}\n\n"
    }
  ]
}
