{
  "sketches": [
    {
      "sketchName": "06.02_QR_20190612120741",
      "sketchCode": "let credits = { \n    \"student_names\": \"Jonas von Arb, Timo Reber\", \n    \"recode_artist\": \"Kenneth Knowlton\", \n    \"recode_title\": \"Tapestry 1\", \n    \"recode_year\": 1961 \n} \n\nlet fb, layer;\n\nfunction setup() {\n\tframeCount = 0;\n\tframeRate(0)\n\tcreateCanvas(windowWidth, windowHeight);\n\trectMode(CENTER)\n\timageMode(CENTER)\n\tstrokeWeight(10)\n\tfb = createImage(width, height)\n\tsb = createImage(width, height)\n\tnoSmooth();\n\tlayer = createGraphics(width, height);\n\tlayer.clear(0)\n\tlayer.fill(255)\n\tlayer.stroke(0)\n\tlayer.strokeWeight(20)\n\tfor(let i = 0; i < 5; i++) {\n\t\tframeRate(20)\n\t\t\n\t\t\n\t}\n\t/*\tfor(let i=0; i<100; i++){\n\t\t\trect(random(width), random(height), 100, 100) \n\t\t\t\n\t\t}*/\n\tsetupAudio();\n}\n\nfunction draw() {\n\t\n\tlet x =  width-frameCount * 3% width;\n\tlet y =  height/5+abs(sin(-frameCount*0.02))*-ampEase*1;\n\t\n\tlet a =  frameCount * 4% width;\n\tlet b =  height/2+abs(sin(frameCount*0.02))*ampEase*2;\n\t\n\tlet c =  frameCount * 4% width/2;\n\tlet d =  -height/5+abs(sin(frameCount*0.02))*ampEase*4;\n\t\n\tlet e =  width-frameCount * 3% width/2;\n\tlet f =  -height/5+abs(sin(frameCount*0.02))*ampEase*3;\n\t\n\tlet g =  frameCount * 4% width/2;\n\tlet h =  height/6+abs(sin(frameCount*0.02))*ampEase*5;\n\t\n\tlet i =  frameCount * 1% width/2;\n\tlet j =  height/6+abs(sin(frameCount*0.02))*ampEase*2;\n\t\n\tlet k =  width-frameCount * 7% width/2;\n\tlet l =  height/4+sin(frameCount*0.02)*ampEase*8;\n\t\n\tupdateAudio();\n\tscl = 1.5; //map(mouseX, 0, width, .99, 1.1);\n\tlayer.image(fb, width/2, height/2, fb.width * scl, fb.height * scl)\n\t//rect(random(width), random(height), 100, 100)\n\timage(layer, frameCount * 2 % width, ampEase *3)\n\timage(layer, frameCount * 5 % width, ampEase *1)\n\n\t\t\tfb = get(x, y, 100, 100)\n\n\t\t\tif(frameCount < 30) {\n\t\t\t\tposition();\n\n\t\t\t}\n\t\t\tprintln(amp)\n\n\t\t\tfunction position() {\n\t\t\t\timage(fb, x, y)\n\t\t\t}\n\t\t\t\n\t\t\tframeRate(3)\n\t\t\tfill(0, 0, 0);\n\t\t\tstroke(255);\n\t\t\tstrokeWeight(20);\n\t\t\trect(x, y, 150, 150);\n\t\t\trect(x, y, 60, 60);\n\t\t\t\n\t\t\tframeRate(30)\n\t\t\tfill(0, 0, 0);\n\t\t\tstroke(255);\n\t\t\tstrokeWeight(20);\n\t\t\trect(a, b, 150, 150);\n\t\t\trect(a, b, 60, 60);\n\t\t\t\n\t\t\tframeRate(30)\n\t\t\tfill(0, 0, 0);\n\t\t\tstroke(255);\n\t\t\tstrokeWeight(20);\n\t\t\trect(c, d, 150, 150);\n\t\t\trect(c, d, 60, 60);\n\t\t\t\n\t\t\tframeRate(30)\n\t\t\tfill(0, 0, 0);\n\t\t\tstroke(255);\n\t\t\tstrokeWeight(20);\n\t\t\trect(e, f, 150, 150);\n\t\t\trect(e, f, 60, 60);\n\t\t\t\n\t\t\tframeRate(30)\n\t\t\tfill(0, 0, 0);\n\t\t\tstroke(0);\n\t\t\tstrokeWeight(20);\n\t\t\trect(g, h, 50, 50);\n\t\t\t\n\t\t\t\t\t\tframeRate(30)\n\t\t\tfill(255);\n\t\t\tstroke(255);\n\t\t\tstrokeWeight(20);\n\t\t\trect(i, j, 50, 50);\n\t\t\t\n\t\t\tframeRate(30)\n\t\t\tfill(0, 0, 0);\n\t\t\tstroke(0);\n\t\t\tstrokeWeight(20);\n\t\t\trect(k, l, 50, 50);\n\t\t}\n\t\t/* AUDIO INIT */\n\t\tlet mic, fftRaw, fft, waveform, amp = 0.0,\n\t\t\tampEase = 0.0,\n\t\t\tnumBins = 512,\n\t\t\tbands = 12;\n\n\t\tfunction setupAudio() {\n\t\t\tmic = new p5.AudioIn();\n\t\t\tmic.start();\n\t\t\tfftRaw = new p5.FFT(0.75, numBins);\n\t\t\tfftRaw.setInput(mic);\n\t\t}\n\n\t\tfunction updateAudio() {\n\t\t\tfftRaw.analyze();\n\t\t\tamp = mic.getLevel() * 1000; // average amplitude\n\t\t\tampEase = ease(amp, ampEase, 0.075); // smooth 'amp'\n\t\t\twaveform = fftRaw.waveform(); // array (-1, 1)\n\t\t\tfft = fftRaw.logAverages(fftRaw.getOctaveBands(bands)); // array (0, 255)\n\t\t}"
    }
  ]
}
