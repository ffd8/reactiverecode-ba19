{
  "sketches": [
    {
      "sketchName": "Frieder_master",
      "sketchCode": "let credits = { \n    \"student_names\": \"Marco Weber, Nicolai Jaron Kager, Niklas Eggmann\", \n    \"recode_artist\": \"Frieder Nake\", \n    \"recode_title\": \"Parallelogramme Nr. 4\", \n    \"recode_year\": 1965\n} \n\nlet coords = [];\nlet frame\nlet maxCount = 15\nfunction setup() {\n\tcreateCanvas(windowWidth, windowHeight);\n\tframe = createGraphics(height, height / 1.5);\n\tangleMode(DEGREES);\n\trectMode(CENTER);\n\n\tfor(let i = 0; i < 20; i++) {\n\t\taddrect()\n\t}\n\tbackground(250, 220, 220);\n\n\tsetupAudio();\n}\n\nfunction draw() {\n\t/* audio vars: amp, ampEase, fft, waveform */\n\tupdateAudio();\n\tbackground(250, 240, 220);\n\tstroke(0);\n\t//\tstrokeWeight(4);\n\tnoFill();4\n\t//translate(windowWidth/2,windowHeight/2);\n\n\n\tfor(let i = 0; i < coords.length; i++) {\n\n\t\tlet coord = coords[i]; //array[i] = grab each item from the i index\n\t\tstrokeWeight(map(i, 0, coords.length, 1, 6));\n\t\tpush();\n\t\t//translate(coord.x, coord.y);\n\t\t//translate(coord.x + i*mouseX/100, -coord.y + height + i*mouseY/100)\n\t\trotate(coord.z);\n\t\trect(coord.x + i*mouseX/100, -coord.y + height - i*mouseY/100,  coord.x / 5 + ampEase*i/4, coord.y + ampEase*i/4);\n\t\tpop();\n\n\t}\n\n}\n\nfunction addrect(x, y) {\n\tlet coord = createVector(random(width / 1.7, width / 2.7), random(height / 1.7, height / 7), random(-4, 4));\n\tcoords.push(coord);\n\tif(coords.length > maxCount) {\n\t\tcoords.shift()\n\t}\n\n}\n\n\nfunction mousePressed() {\n\t//rotate(90);\n\taddrect();\n\t//rect(width/2 + random(100, -350), height/4 + random(150, -150));\n\t//array.push(rect); // array.push = add item to collection\n} \n\n\n//oli is the coolest\n\n/* AUDIO INIT */\nlet mic, fftRaw, fft = [],\n\twaveform = [],\n\tamp = 0.0,\n\tampStereo = {\n\t\tl: 0.0,\n\t\tr: 0.0\n\t},\n\tampEase = 0.0,\n\tnumBins = 512,\n\tbands = 12;\n\nfunction setupAudio() {\n\tuserStartAudio();\n\tmic = new p5.AudioIn();\n\tmic.start();\n\tfftRaw = new p5.FFT(0.75, numBins);\n\tfftRaw.setInput(mic);\n}\n\nfunction updateAudio() {\n\tfftRaw.analyze();\n\tamp = mic.getLevel() * 1000; // average mixed amplitude\n\tampStereo.l = mic.amplitude.getLevel(0) * 500; // average left amplitude\n\tampStereo.r = mic.amplitude.getLevel(1) * 500; // average right amplitude\n\tampEase = ease(amp, ampEase, 0.075); // smooth 'amp'\n\twaveform = fftRaw.waveform(); // array (-1, 1)\n\tfft = fftRaw.logAverages(fftRaw.getOctaveBands(bands)); // array (0, 255)\n}"
    }
  ]
}